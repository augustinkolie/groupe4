{% extends "base.html" %}
{% load static %}

{% block title %}Alertes - EcoWatch{% endblock %}
{% block page_title %}Système d'Alertes{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'monitoring/css/dashboard.css' %}">
{% endblock %}

{% block content %}
<!-- Page Header -->
<div class="flex-between mb-4">
    <div>
        <h1 style="font-size: 1.75rem; font-weight: 700; margin-bottom: 0.5rem;">Alertes de Qualité de l'Air</h1>
        <p style="color: var(--gray);">Configurez et surveillez les alertes automatiques basées sur les seuils de pollution</p>
    </div>
    <button class="btn btn-primary">
        <i class="fas fa-plus"></i>
        Nouvelle Alerte
    </button>
</div>

<!-- Stats Overview -->
<div class="grid-4 mb-4">
    <div class="stat-card">
        <div class="stat-icon" style="background: #fee2e2; color: #ef4444;">
            <i class="fas fa-bell"></i>
        </div>
        <div class="stat-value" style="color: #ef4444;">0</div>
        <div class="stat-label">Alertes Actives</div>
    </div>
    <div class="stat-card">
        <div class="stat-icon" style="background: #fef3c7; color: #f59e0b;">
            <i class="fas fa-exclamation-triangle"></i>
        </div>
        <div class="stat-value" style="color: #f59e0b;">0</div>
        <div class="stat-label">Aujourd'hui</div>
    </div>
    <div class="stat-card">
        <div class="stat-icon" style="background: #dbeafe; color: #3b82f6;">
            <i class="fas fa-history"></i>
        </div>
        <div class="stat-value" style="color: #3b82f6;">0</div>
        <div class="stat-label">Cette Semaine</div>
    </div>
    <div class="stat-card">
        <div class="stat-icon" style="background: #d1fae5; color: #059669;">
            <i class="fas fa-cog"></i>
        </div>
        <div class="stat-value" style="color: #059669;">0</div>
        <div class="stat-label">Règles Configurées</div>
    </div>
</div>

<!-- Alert Info Banner -->
<div class="alert alert-info mb-4">
    <i class="fas fa-info-circle" style="font-size: 1.25rem;"></i>
    <div>
        <strong>Fonctionnalité en développement</strong><br>
        Le système d'alertes automatiques sera bientôt disponible. Vous pourrez configurer des seuils personnalisés et recevoir des notifications par email ou SMS.
    </div>
</div>

<!-- Tabs -->
<div class="card mb-4">
    <div class="card-header" style="border-bottom: none;">
        <div style="display: flex; gap: 1rem; border-bottom: 2px solid var(--gray-light); margin: -1.5rem -1.5rem 0;">
            <button class="btn" style="border-radius: 0; border-bottom: 3px solid var(--primary); padding: 1rem 1.5rem; background: transparent; color: var(--primary);">
                Alertes Actives
            </button>
            <button class="btn" style="border-radius: 0; padding: 1rem 1.5rem; background: transparent; color: var(--gray);">
                Historique
            </button>
            <button class="btn" style="border-radius: 0; padding: 1rem 1.5rem; background: transparent; color: var(--gray);">
                Configuration
            </button>
        </div>
    </div>
</div>

<!-- Active Alerts -->
<div class="card mb-4">
    <div class="card-header">
        <h3 class="card-title">Alertes en Cours</h3>
    </div>
    <div class="card-body">
        <div class="empty-state">
            <div class="empty-state-icon">
                <i class="fas fa-bell-slash"></i>
            </div>
            <h3 class="empty-state-title">Aucune alerte active</h3>
            <p class="empty-state-text">Toutes les stations fonctionnent dans les limites normales</p>
        </div>
    </div>
</div>

<!-- Alert Configuration -->
<div class="grid-2">
    <div class="card">
        <div class="card-header">
            <h3 class="card-title">Seuils d'Alerte</h3>
        </div>
        <div class="card-body">
            <div class="form-group">
                <label class="form-label">IQA Maximum</label>
                <input type="number" class="form-control" placeholder="100" value="100">
            </div>
            <div class="form-group">
                <label class="form-label">PM2.5 Maximum (µg/m³)</label>
                <input type="number" class="form-control" placeholder="35" value="35">
            </div>
            <div class="form-group">
                <label class="form-label">CO Maximum (ppm)</label>
                <input type="number" class="form-control" placeholder="9" value="9">
            </div>
            <div class="form-group" style="margin-bottom: 0;">
                <label class="form-label">Température Maximum (°C)</label>
                <input type="number" class="form-control" placeholder="40" value="40">
            </div>
        </div>
        <div class="card-footer">
            <button class="btn btn-primary" disabled>
                <i class="fas fa-save"></i>
                Enregistrer les Seuils
            </button>
        </div>
    </div>

    <div class="card">
        <div class="card-header">
            <h3 class="card-title">Notifications</h3>
        </div>
        <div class="card-body">
            <div class="form-group">
                <label class="form-label">Email de Notification</label>
                <input type="email" class="form-control" placeholder="admin@ecowatch.com">
            </div>
            <div class="form-group">
                <label class="form-label">Numéro de Téléphone (SMS)</label>
                <input type="tel" class="form-control" placeholder="+224 XXX XXX XXX">
            </div>
            <div class="form-group">
                <label class="form-label">Fréquence des Notifications</label>
                <select class="form-control form-select">
                    <option>Immédiate</option>
                    <option>Toutes les heures</option>
                    <option>Toutes les 6 heures</option>
                    <option>Une fois par jour</option>
                </select>
            </div>
            <div class="form-group" style="margin-bottom: 0;">
                <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
                    <input type="checkbox" style="width: 18px; height: 18px;">
                    <span class="form-label" style="margin: 0;">Activer les notifications SMS</span>
                </label>
            </div>
        </div>
        <div class="card-footer">
            <button class="btn btn-primary" disabled>
                <i class="fas fa-save"></i>
                Enregistrer les Préférences
            </button>
        </div>
    </div>
</div>
{% endblock %}
