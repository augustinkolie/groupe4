{% load static %}
<div class="grid-4 mb-4" id="stats-overview" hx-get="{% url 'stats_overview' %}" hx-trigger="every 60s" hx-swap="outerHTML" hx-indicator="#stats-sync-indicator">
    <div class="premium-stat-card">
        <div class="stat-icon" style="background: rgba(16, 185, 129, 0.1); color: var(--primary);">
            <i class="fas fa-map-marker-alt"></i>
        </div>
        <div class="stat-content">
            <div class="stat-value" id="total-stations">{{ total_stations }}</div>
            <div class="stat-label">Stations Actives</div>
        </div>
    </div>
    <div class="premium-stat-card">
        <div class="stat-icon" style="background: rgba(59, 130, 246, 0.1); color: var(--secondary);">
            <i class="fas fa-wind"></i>
        </div>
        <div class="stat-content">
            <div class="stat-value" style="background: var(--secondary-gradient); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;" id="avg-iqa">{{ avg_iqa }}</div>
            <div class="stat-label">IQA Moyen</div>
        </div>
    </div>
    <div class="premium-stat-card">
        <div class="stat-icon" style="background: rgba(245, 158, 11, 0.1); color: var(--warning);">
            <i class="fas fa-exclamation-triangle"></i>
        </div>
        <div class="stat-content">
            <div class="stat-value" style="color: var(--warning);">{{ alerts_count }}</div>
            <div class="stat-label">Alertes Actives</div>
        </div>
    </div>
    <div class="premium-stat-card">
        <div class="stat-icon" style="background: rgba(239, 68, 68, 0.1); color: var(--danger);">
            <i class="fas fa-chart-line"></i>
        </div>
        <div class="stat-content">
            <div class="stat-value" style="color: var(--danger);" id="readings-today">{{ readings_today }}</div>
            <div class="stat-label">Relevés (24h)</div>
        </div>
    </div>
    <div style="grid-column: 1 / -1; display: flex; justify-content: space-between; align-items: center; padding: 0 0.5rem; margin-top: -0.5rem;">
        <div id="stats-sync-indicator" class="htmx-indicator" style="font-size: 0.7rem; color: var(--primary);">
            <i class="fas fa-sync fa-spin"></i> Mise à jour...
        </div>
        <div style="font-size: 0.7rem; color: var(--gray);">
            Dernière synchro : {{ last_sync|date:"H:i:s" }}
        </div>
    </div>
</div>
